Debian Server | MySQL Server
____________________________



1. A Server VirtualBox beállításai

Debian netinst verzió (A telepítéshez rendelkeznünk kell internet kapcsolattal!)

- Bridge kártya
- 20GB merevlemez

Telepítés beállításai:

- Install
- Language: English
- Country, territory or area: United Kingdom
- Keymap to use: Hungarian
- Hostname: debianmysql
- Domain name: üresen hagyjuk
- Root password: Aa123456
- Full name for the new user: DebianMySQLAdmin
- Username for your account: debianmysqladmin
- Choose a password for the new user: Bb123456
- Partitioning method: Manual: 15.5GB -> (ext4) + 6GB -> (swap)

Configure the package manager

- Scan another CD or DVD? -> NO
- Debian archive mirror country -> United Kingdom
- Debian archive mirror: deb.debian.org/ftp.uk.debian.org
- Proxy Server: nincs

Configuring popularity-contest -> NO


Telepítés összetevői:

- SSH server
- standard system utilities

GRUB MBR-ba telepítése -> /dev/sda


2. Interfaces -> static

nano /etc/network/interfaces 

DHCP-ről static-ra állítani!

address 172.16.0.251
netmask 255.255.0.0
network 172.16.0.0
broadcast 172.16.255.255
gateway 172.16.0.1
dns-nameservers 172.16.0.254 172.16.0.252


3. Hosts

nano /etc/hosts

127.0.0.1 localhost
172.16.0.251 debianmysql


4. Hostname beállítása:

nano /etc/hostname

debianmysql


Debian servert leállítani és a hálókártyát konfigurálni:

1. kártya -> Belső hálózat

Indítsuk újra a Debian-t.

Putty-val a Mikrotik-ben kapott DHCP címmel csatlakozzunk SSH-n keresztül a Debian serverhez.

__________

Sudo beállítása:

A sudo egy olyan alkalmazás a Unix-szerű operációs rendszert futtató számítógépeken, amely lehetővé teszi egy felhasználó számára, hogy egy másik felhasználó (általában a superuser, vagy a root) biztonsági jogosultságaival futtasson programokat. A sudo név az su parancs és a „do” angol szó összevonásának eredménye. Míg az su parancsnál a felhasználók a root jelszót adják meg, a sudo parancsnál a saját jelszavukat.


Konfigurálás:

Váltsunk root felhasználóra:

su -

Telepítsük a sudo-t és adjuk hozzá a debianmysqladmin felhasználót a sudo csoporthoz:

apt-get install sudo
usermod -aG sudo debianmysqladmin
getent group sudo

A konfigurált, emelt joggal rendelkező felhasználóra való váltás (jelenleg csak a példa kedvéért):

su - debianmysqladmin

A superuser vagy root biztonsági jogosultságaival való parancs futtatásához a parancs elé tegyünk sudo-t. Az adott felhasználó jelszavának beírása után megkapjuk a megfelelő jogosultságot. Az /etc/sudoers fájlban határozhatjuk meg, hogy milyen parancsok végrehajtása engedélyezett a sudo-val.
__________


Maradjunk a root felhasználónál a telepítés további folytatásához!


5. MySQL telepítése

wget https://dev.mysql.com/get/mysql-apt-config_0.8.18-1_all.deb

apt install gdebi-core -y

gdebi mysql-apt-config_0.8.18-1_all.deb


Add repository to unupported system?

debian buster


Which MySQL product do you wish to configure?

MySQL Server & Cluster (Currently selected: mysql 8.0)


Which server version do you wish to receive?

mysql-5.7


Which MySQL product do you wish to configure?

MySQL Server & Cluster (Currently selected: mysql-5.7) -> Ez van kiválasztva, nem kell megváltoztatni!

OK


apt update

apt install mysql-community-server -y

A telepítés közben meg kell adni a root jelszót!


nano /etc/mysql/mysql.conf.d/mysqld.cnf

A következő bejegyzést kommenteljük:

bind-address = 127.0.0.1 (# bind-address = 127.0.0.1)

Mentsük és zárjuk be a fájlt!


systemctl status mysql


6. Hozzuk létre az adatbázist, a felhasználót és konfiguráljuk a megfelelő beállításokat:

mysql -u root -p
(adjuk meg a root jelszót)

CREATE DATABASE joomla;
CREATE USER 'joomla_mysql_user'@'%' IDENTIFIED BY 'mysql12345@';
GRANT ALL PRIVILEGES ON *.* TO 'joomla_mysql_user'@'%'WITH GRANT OPTION;
SELECT User FROM mysql.user;
SHOW grants for 'root'@'localhost';
SHOW DATABASES;
quit

reboot


7. Teszt

mysql -h 172.16.0.251 -u joomla_mysql_user -p

jelszó: mysql12345@

(Ha be tudunk lépni a felhasználóval a MySQL konfigurációba, akkor helyesek a beállítások!)

Kilépni a quit paranccsal tudunk.


Térjünk vissza a "winserver_gui_web_ftp_fileserver.pdf" fájlhoz és folytassuk a telepítést!